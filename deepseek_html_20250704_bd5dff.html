<!DOCTYPE html>
<html>
<head>
    <title>TaskForge</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <h1>TaskForge ğŸ”¥</h1>
    <p>Current Time: {{ current_time }}</p>
    
    <div class="tasks">
        {% for task in tasks %}
        <div class="task">
            <input type="checkbox" id="task-{{ task.id }}" {% if task.done %}checked{% endif %}>
            <label for="task-{{ task.id }}">{{ task.name }}</label>
            <button onclick="setReminder({{ task.id }})">â° Remind Me</button>
        </div>
        {% endfor %}
    </div>

    <script>
        function setReminder(taskId) {
            const minutes = prompt("Remind in how many minutes?", "30");
            fetch("/set_reminder", {
                method: "POST",
                headers: { "Content-Type": "application/x-www-form-urlencoded" },
                body: `task_id=${taskId}&minutes=${minutes}`
            }).then(response => response.json())
              .then(data => alert(data.message));
        }
    </script>
</body>
</html>